<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-sacalable=no" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@4.0.1/reset.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/src/css/r_layout.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script src="/src/js/r-inday-1.0.0.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>swiper 탭메뉴 클릭시 해당 index로 슬라이드 이동</h1>

      <div class="slide_ovh">
        <div class="top_mask swiper-container">
          <div class="swiper-wrapper">
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">IMAGE</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">VIDEO</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">IMAGE</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">VIDEO</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">IMAGE</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
            <div class="item swiper-slide cb">
              <div class="img fl">
                <div class="mov_frame">
                  <div class="cont"><span>이미지 / 동영상 들어갈 공간입니다.</span></div>
                </div>
              </div>
              <div class="txt_box fr">
                <span class="type">VIDEO</span>
                <p class="tit">제목을 입력해 주세요. 제목이 들어갈 공간입니다.</p>
                <div class="txt_cont">
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                  <p>내용이 들어갈 공간입니다. 내용을 입력해 주세요.</p>
                </div>
                <a href="" class="more_btn">More View</a>
              </div>
            </div>
          </div>
        </div>
        <button type="button" class="arrow_btn p"><i class="fa fa-chevron-circle-left"></i></button>
        <button type="button" class="arrow_btn n"><i class="fa fa-chevron-circle-right"></i></button>
        <div class="tab_box">
          <div class="slide_tab">
            <ul>
              <li class="act">
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">IMAGE</span>
                </button>
              </li>
              <li>
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">Video</span>
                </button>
              </li>
              <li>
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">IMAGE</span>
                </button>
              </li>
              <li>
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">Video</span>
                </button>
              </li>
              <li>
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">IMAGE</span>
                </button>
              </li>
              <li>
                <button type="button" class="js_slide_tab">
                  <span class="img">썸네일</span>
                  <span class="txt">Video</span>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="code_review_box">
        <pre>
      swiper를 활용해서 만든 탭메뉴 클릭시 슬라이드 index로 이동되는 슬라이드입니다. 

      <span>CSS</span>
      슬라이드 되는 item이 많아지면 탭메뉴에 들어갈 버튼도 늘어나기 때문에 탭메뉴 감싸는 부분에 <i>overflow-x: auto; white-space: nowrap;</i> 추가 했습니다. 

      <span>JS</span>
      단순 슬라이드기능과, 썸네일 클릭시 해당 슬라이드로 이동되는 기능만 존재하는 슬라이드입니다. 
      swiper에서 <i>slideChange</i> 를 활용해 슬라이드의 index를 구했고, 탭메뉴에도 알맞는 index에 활성화 클래스 추가/삭제 넣었습니다. 
      탭메뉴 버튼 클릭시 <i>slideTo</i> 를 활용해 버튼의 index와 슬라이드의 index가 일치하게 추가했습니다. 

      <span>아쉬운점</span>
      1. 슬라이드가 5개 이상일시 6번째 탭메뉴 버튼을 볼려면 수동으로 스크롤 해야함
      2. 슬라이드가 오른쪽에서 왼쪽으로 슬라이드 될때 탭메뉴가 상단에 떠있어서 부자연스러운 느낌이 있음
    </pre>
      </div>
    </div>
    <script>
      var swiper = new Swiper('.top_mask', {
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        loopFillGroupWithBlank: false,
        speed: 900,
        navigation: {
          nextEl: '.arrow_btn.n',
          prevEl: '.arrow_btn.p',
        },
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        on: {
          slideChange: function () {
            var Idx = this.realIndex;
            $('.tab_box ul li').eq(Idx).addClass('act').siblings().removeClass('act');
          },
        },
      });

      $('.js_slide_tab').click(function () {
        var $this = $(this);
        var li = $this.closest('li');
        var index = li.index();
        swiper.slideTo(index + 1, 300);
      });
    </script>
  </body>
</html>
